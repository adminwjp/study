2020-02-15 14:00:05.984 +08:00 [FTL] Application startup exception
System.AggregateException: One or more errors occurred. (Unexpected response, status code BadRequest: Missing service name)
 ---> Consul.ConsulRequestException: Unexpected response, status code BadRequest: Missing service name
   at Consul.PutRequest`1.Execute(CancellationToken ct)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at Utility.AspNetCore.Consul.Extensions.AppBuilderExtensions.RegisterConsul(IApplicationBuilder app, IApplicationLifetime lifetime, ServiceEntity serviceEntity) in E:\work\program\Shared\Utility.AspNetCore.Consul\Extensions\AppBuilderExtensions.cs:line 41
   at Company.Api.Startup.Configure(IApplicationBuilder app, IWebHostEnvironment env, IApplicationLifetime lifetime) in E:\work\program\company\src\Company.Api\Startup.cs:line 91
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.Extensions.DependencyInjection.AutoRegisterMiddleware.<>c__DisplayClass4_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Server.IIS.Core.IISServerSetupFilter.<>c__DisplayClass2_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.WebHost.BuildApplication()
2020-02-15 14:03:59.544 +08:00 [FTL] Application startup exception
System.AggregateException: One or more errors occurred. (Unexpected response, status code BadRequest: Missing service name)
 ---> Consul.ConsulRequestException: Unexpected response, status code BadRequest: Missing service name
   at Consul.PutRequest`1.Execute(CancellationToken ct)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait()
   at Utility.AspNetCore.Consul.Extensions.AppBuilderExtensions.RegisterConsul(IApplicationBuilder app, IApplicationLifetime lifetime, ServiceEntity serviceEntity) in E:\work\program\Shared\Utility.AspNetCore.Consul\Extensions\AppBuilderExtensions.cs:line 41
   at Company.Api.Startup.Configure(IApplicationBuilder app, IWebHostEnvironment env, IApplicationLifetime lifetime) in E:\work\program\company\src\Company.Api\Startup.cs:line 91
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.Extensions.DependencyInjection.AutoRegisterMiddleware.<>c__DisplayClass4_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Server.IIS.Core.IISServerSetupFilter.<>c__DisplayClass2_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.WebHost.BuildApplication()
